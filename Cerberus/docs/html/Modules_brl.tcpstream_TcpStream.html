<!doctype html>
<html lang="en-US">
<head>
	<meta charset="UTF-8" />
	<title>Cerberus X Documentation</title>
	<link rel="stylesheet" type="text/css" href="pagestyle.css" />
</head>
<body>
	<div class="page">
		<header>
			<h1>
				<a href="Home.html"><img src="data/cerberusx.png"/></a>Cerberus X Documentation
			</h1>

		</header>

		<nav class="main">
			<a href="Home.html">Home</a>
			<a href="API Reference.html">API Reference</a>
			<a href="Programming_Language reference.html">Language Reference</a>
			<a href="Modules.html">Modules</a>
			<a href="Indexes.html">Indexes</a>
		</nav>
		
		<nav class="location">
			<a href='Home.html'>Home</a>

			<a href='Modules.html'>Modules</a>

			<a href='Modules_brl.tcpstream.html'>brl.tcpstream</a>

			<span>TcpStream</span>

		</nav>

		<main>


<h1>Class <small>TcpStream</small></h1>


	<p>
		A tcp stream represents a synchronous tcp connection to a host on the internet.<a href="#description"> More...</a>
	</p>


<h2>Declarations</h2>






	<table class="index">
		<tr><th>Extends</th><th></th></tr>
		
			<tr>
				<td><code><a href="Modules_brl.stream_Stream.html">Stream</a><small></small></code></td>
				<td>Streams are used to read or write data in a sequential manner.</td>
			</tr>
		
	</table>










	<table class="index">
		<tr><th>Constructors</th><th></th></tr>
		
			<tr>
				<td><code><a href="#New()">New</a><small> ()</small></code></td>
				<td>Creates a new unconnected tcp stream.</td>
			</tr>
		
			<tr>
				<td><code><a href="#New(Socket)">New</a><small> ( socket:Socket )</small></code></td>
				<td>Creates a new tcp stream from an existing socket.</td>
			</tr>
		
	</table>


	<table class="index">
		<tr><th>Methods</th><th></th></tr>
		
			<tr>
				<td><code><a href="#Connect(String,Int)">Connect</a><small> : Bool ( host:String, port:Int )</small></code></td>
				<td>Attempts to connect to the specified host and returns true if successful.</td>
			</tr>
		
	</table>







	<table class="index">
		<tr><th>Inherited Properties</th><th></th></tr>
		
			<tr>
				<td><code><a href="Modules_brl.stream_Stream.html#Eof()">Eof</a><small> : Int ()</small></code></td>
				<td>Returns 1 if end-of-file has been reached, -1 if an IO error has occurred or 0 if the stream can be read.</td>
			</tr>
		
			<tr>
				<td><code><a href="Modules_brl.stream_Stream.html#Length()">Length</a><small> : Int ()</small></code></td>
				<td>Returns the stream length if the stream is seekable, else 0.</td>
			</tr>
		
			<tr>
				<td><code><a href="Modules_brl.stream_Stream.html#Position()">Position</a><small> : Int ()</small></code></td>
				<td>Returns the read/write position within the stream if the stream is seekable, else 0.</td>
			</tr>
		
	</table>



	<table class="index">
		<tr><th>Inherited Methods</th><th></th></tr>
		
			<tr>
				<td><code><a href="Modules_brl.stream_Stream.html#Close()">Close</a><small> : Void ()</small></code></td>
				<td>Closes the stream and released any OS resources in use.</td>
			</tr>
		
			<tr>
				<td><code><a href="Modules_brl.stream_Stream.html#Read(DataBuffer,Int,Int)">Read</a><small> : Int ( buffer:DataBuffer, offset:Int, count:Int )</small></code></td>
				<td>Reads <b>count</b> bytes from the stream into <b>databuffer</b>, starting at address <b>offset</b> within the databuffer.</td>
			</tr>
		
			<tr>
				<td><code><a href="Modules_brl.stream_Stream.html#ReadAll()">ReadAll</a><small> : DataBuffer ()</small></code></td>
				<td>Reads all remaining bytes from the stream into a databuffer.</td>
			</tr>
		
			<tr>
				<td><code><a href="Modules_brl.stream_Stream.html#ReadAll(DataBuffer,Int,Int)">ReadAll</a><small> : Void ( buffer:DataBuffer, offset:Int, count:Int )</small></code></td>
				<td>Reads <b>count</b> bytes from the stream into <b>databuffer</b>, starting at address <b>offset</b> within the databuffer.</td>
			</tr>
		
			<tr>
				<td><code><a href="Modules_brl.stream_Stream.html#ReadByte()">ReadByte</a><small> : Int ()</small></code></td>
				<td>Reads an 8 bit byte from the stream.</td>
			</tr>
		
			<tr>
				<td><code><a href="Modules_brl.stream_Stream.html#ReadFloat()">ReadFloat</a><small> : Float ()</small></code></td>
				<td>Reads a 32 bit float value from the stream.</td>
			</tr>
		
			<tr>
				<td><code><a href="Modules_brl.stream_Stream.html#ReadInt()">ReadInt</a><small> : Int ()</small></code></td>
				<td>Reads a 32 bit int value from the stream.</td>
			</tr>
		
			<tr>
				<td><code><a href="Modules_brl.stream_Stream.html#ReadShort()">ReadShort</a><small> : Int ()</small></code></td>
				<td>Reads a 16 bit int value from the stream.</td>
			</tr>
		
			<tr>
				<td><code><a href="Modules_brl.stream_Stream.html#ReadString(Int,[String])">ReadString</a><small> : String ( count:Int, encoding:String="utf8" )</small></code></td>
				<td>Reads <b>count</b> bytes from the stream and converts them to a string using the given <b>encoding</b>.</td>
			</tr>
		
			<tr>
				<td><code><a href="Modules_brl.stream_Stream.html#ReadString([String])">ReadString</a><small> : String ( encoding:String="utf8" )</small></code></td>
				<td>Reads all bytes from the stream until end-of-file and converts them to a string using the given <b>encoding</b>.</td>
			</tr>
		
			<tr>
				<td><code><a href="Modules_brl.stream_Stream.html#Seek(Int)">Seek</a><small> : Int ( position:Int )</small></code></td>
				<td>If the stream is seekable, adjusts the read/write position within the stream and returns the new read/write position.</td>
			</tr>
		
			<tr>
				<td><code><a href="Modules_brl.stream_Stream.html#Write(DataBuffer,Int,Int)">Write</a><small> : Int ( buffer:DataBuffer, offset:Int, count:Int )</small></code></td>
				<td>Writes <b>count</b> bytes from <b>databuffer</b> to the stream, starting at address <b>offset</b> within the databuffer.</td>
			</tr>
		
			<tr>
				<td><code><a href="Modules_brl.stream_Stream.html#WriteAll(DataBuffer,Int,Int)">WriteAll</a><small> : Void ( buffer:DataBuffer, offset:Int, count:Int )</small></code></td>
				<td>Writes <b>count</b> bytes from <b>databuffer</b> to the stream, starting at address <b>offset</b> within the databuffer.</td>
			</tr>
		
			<tr>
				<td><code><a href="Modules_brl.stream_Stream.html#WriteByte(Int)">WriteByte</a><small> : Void ( value:Int )</small></code></td>
				<td>Writes an 8 bit byte to the stream.</td>
			</tr>
		
			<tr>
				<td><code><a href="Modules_brl.stream_Stream.html#WriteFloat(Float)">WriteFloat</a><small> : Void ( value:Float )</small></code></td>
				<td>Writes a 32 bit float value to the stream.</td>
			</tr>
		
			<tr>
				<td><code><a href="Modules_brl.stream_Stream.html#WriteInt(Int)">WriteInt</a><small> : Void ( value:Int )</small></code></td>
				<td>Writes a 32 bit int value to the stream.</td>
			</tr>
		
			<tr>
				<td><code><a href="Modules_brl.stream_Stream.html#WriteShort(Int)">WriteShort</a><small> : Void ( value:Int )</small></code></td>
				<td>Write a 16 bit int value to the stream.</td>
			</tr>
		
			<tr>
				<td><code><a href="Modules_brl.stream_Stream.html#WriteString(String,[String])">WriteString</a><small> : Void ( value:String, encoding:String="utf8" )</small></code></td>
				<td>Writes a string to the stream using the given <b>encoding</b>.</td>
			</tr>
		
	</table>




	<section>
		<a name="description"></a>
		<h2>Detailed Discussion</h2>
		<p>
A tcp stream represents a synchronous tcp connection to a host on the internet.
</p>
<p>
<b>IMPORTANT! Performing synchronous tcp I/O may cause your app to be rejected by some publishers, as it may result in your app 'blocking' during execution as it waits for incoming data. To prevent this, use a plain <a href="Modules_brl.socket_Socket.html">Socket</a> to perform asynchronous I/O instead. It is strongly recommended that synchronous tcp streams are only used with the stdcpp target.</b>
</p>
<p>
After creating a tcp stream, you should use the <a href="#Connect(String,Int)">Connect</a> method to make a connection to a remote host.
</p>
<p>
Once connected, you can read and write the stream using any of the <a href="Modules_brl.stream_Stream.html">Stream</a> methods.
</p>
<p>
Tcp streams are only currently supported on the android, ios, win8, glfw and stdcpp targets.
</p>
		
		
			<span class="detail example"><b><a href="examples/brl_tcpstream_TcpStream.cxs">Example</a></b></span>
			<div class="pretty">
<code class="d">#If </code><code class="i">TARGET</code><code class="d">&lt;&gt;</code><code class="l">"glfw" </code><code class="k">And </code><code class="i">TARGET</code><code class="d">&lt;&gt;</code><code class="l">"android" </code><code class="k">And </code><code class="i">TARGET</code><code class="d">&lt;&gt;</code><code class="l">"ios" </code><code class="k">And </code><code class="i">TARGET</code><code class="d">&lt;&gt;</code><code class="l">"stdcpp"</code><br/>
<code class="d">#Error </code><code class="l">"Invalid target!"</code><br/>
<code class="d">#Endif</code><br/>
<br/>
<code class="k">Import </code><code class="i">brl</code><code class="d">.</code><code class="i">tcpstream</code><br/>
<br/>
<code class="k">Function </code><code class="i">Main</code><code class="d">()</code><br/>
<br/>
<code class="d">	</code><code class="k">Local </code><code class="i">stream</code><code class="d">:=</code><code class="k">New </code><code class="i">TcpStream</code><br/>
<code class="d">	</code><br/>
<code class="d">	</code><code class="k">If Not </code><code class="i">stream</code><code class="d">.</code><code class="i">Connect</code><code class="d">( </code><code class="l">"www.cerberus-x.com"</code><code class="d">,</code><code class="l">80 </code><code class="d">)</code><br/>
<code class="d">		</code><code class="i">Print </code><code class="l">"Failed to connect!"</code><br/>
<code class="d">		</code><code class="k">Return</code><br/>
<code class="d">	</code><code class="k">Endif</code><br/>
<code class="d">	</code><br/>
<code class="d">	</code><code class="i">Print </code><code class="l">"Connected!"</code><br/>
<code class="d">	</code><br/>
<code class="d">	</code><code class="i">stream</code><code class="d">.</code><code class="i">WriteLine </code><code class="l">"GET / HTTP/1.0"</code><br/>
<code class="d">	</code><code class="i">stream</code><code class="d">.</code><code class="i">WriteLine </code><code class="l">"Host: www.cerberus-x.com"</code><br/>
<code class="d">	</code><code class="i">stream</code><code class="d">.</code><code class="i">WriteLine </code><code class="l">""</code><br/>
<code class="d">	</code><br/>
<code class="d">	</code><code class="k">While Not </code><code class="i">stream</code><code class="d">.</code><code class="i">Eof</code><code class="d">()</code><br/>
<code class="d">		</code><code class="k">Local </code><code class="i">line</code><code class="d">:=</code><code class="i">stream</code><code class="d">.</code><code class="i">ReadLine</code><code class="d">()</code><br/>
<code class="d">		</code><code class="i">Print line</code><br/>
<code class="d">	</code><code class="k">Wend</code><br/>
<code class="d">	</code><br/>
<code class="d">	</code><code class="i">stream</code><code class="d">.</code><code class="i">Close</code><br/>
<code class="d">	</code><br/>
<code class="d">	</code><code class="i">Print </code><code class="l">"BYE!!!!"</code><br/>
<br/>
<code class="k">End</code><br/>
</div>
		
	</section>
	<hr>








	<section>
		<h2>Constructors Documentation</h2>
		
			<article>
				<a name="New()"></a>
				<pre class="declaration">Method <strong>New</strong> ()</pre>
				<p>
Creates a new unconnected tcp stream.
</p>
				
				
				
				
			</article>
		
			<article>
				<a name="New(Socket)"></a>
				<pre class="declaration">Method <strong>New</strong> ( socket:<a href="Modules_brl.socket_Socket.html">Socket</a> )</pre>
				<p>
Creates a new tcp stream from an existing socket. The socket must be a stream type socket.
</p>
				
				
				
				
			</article>
		
	</section>
	<hr>


	<section>
		<h2>Methods Documentation</h2>
		
			<article>
				<a name="Connect(String,Int)"></a>
				<pre class="declaration">Method <strong>Connect</strong> : <a href="Programming_Keywords_Bool.html">Bool</a> ( host:<a href="Modules_cerberus.lang_String.html">String</a>, port:<a href="Programming_Keywords_Int.html">Int</a> )</pre>
				<p>
Attempts to connect to the specified host and returns true if successful.
</p>
<p>
Once connected, you can use stream read/write commands to communicate with the host.
</p>
				
				
				
				
			</article>
		
	</section>
	<hr>




		</main>
	</div>
</body>
</html>