<!doctype html>
<html lang="en-US">
<head>
	<meta charset="UTF-8" />
	<title>Cerberus X Documentation</title>
	<link rel="stylesheet" type="text/css" href="pagestyle.css" />
</head>
<body>
	<div class="page">
		<header>
			<h1>
				<a href="Home.html"><img src="data/cerberusx.png"/></a>Cerberus X Documentation
			</h1>

		</header>

		<nav class="main">
			<a href="Home.html">Home</a>
			<a href="API Reference.html">API Reference</a>
			<a href="Programming_Language reference.html">Language Reference</a>
			<a href="Modules.html">Modules</a>
			<a href="Indexes.html">Indexes</a>
		</nav>
		
		<nav class="location">
			<a href='Home.html'>Home</a>

			<a href='Modules.html'>Modules</a>

			<a href='Modules_brl.gamecenter.html'>brl.gamecenter</a>

			<span>GameCenter</span>

		</nav>

		<main>


<h1>Class <small>GameCenter</small></h1>


	<p>
		The gamecenter module provides simple support for the iOS Game Center framework.<a href="#description"> More...</a>
	</p>


<h2>Declarations</h2>
















	<table class="index">
		<tr><th>Methods</th><th></th></tr>
		
			<tr>
				<td><code><a href="#GameCenterAvail()">GameCenterAvail</a><small> : Bool ()</small></code></td>
				<td>Returns true if Game Center support is available.</td>
			</tr>
		
			<tr>
				<td><code><a href="#GameCenterState()">GameCenterState</a><small> : Int ()</small></code></td>
				<td>Returns one of the following values:</td>
			</tr>
		
			<tr>
				<td><code><a href="#ReportAchievement(Float,String)">ReportAchievement</a><small> : Void ( percentComplete:Float, achievement_ID:String )</small></code></td>
				<td>Report an achievement to Game Center.</td>
			</tr>
		
			<tr>
				<td><code><a href="#ReportScore(Int,String)">ReportScore</a><small> : Void ( value:Int, leaderboard_ID:String )</small></code></td>
				<td>Report a score to Game Center.</td>
			</tr>
		
			<tr>
				<td><code><a href="#ShowAchievments()">ShowAchievments</a><small> : Void ()</small></code></td>
				<td>Shows game achievements.</td>
			</tr>
		
			<tr>
				<td><code><a href="#ShowLeaderboard(String)">ShowLeaderboard</a><small> : Void ( leaderboard_ID:String )</small></code></td>
				<td>Shows the leaderboard with the given id.</td>
			</tr>
		
			<tr>
				<td><code><a href="#StartGameCenter()">StartGameCenter</a><small> : Void ()</small></code></td>
				<td>Starts Game Center.</td>
			</tr>
		
	</table>


	<table class="index">
		<tr><th>Functions</th><th></th></tr>
		
			<tr>
				<td><code><a href="#GetGameCenter()">GetGameCenter</a><small> : GameCenter ()</small></code></td>
				<td>Gets the global GameCenter object.</td>
			</tr>
		
	</table>











	<section>
		<a name="description"></a>
		<h2>Detailed Discussion</h2>
		<p>
The gamecenter module provides simple support for the iOS Game Center framework.
</p>
<p>
To use GameCenter in your game:
</p>
<ol>
<li>Add your game in iTunes connect, Apple's portal for uploading iOS apps - http://itunesconnect.apple.com</li>
<ul></ul>
<li>Enable Game Center support for your game in iTunes connect.</li>
<ul></ul>
<li>Add Leaderboards and/or achievements to your game in iTunes connect.</li>
<ul></ul>
<li>Import brl.gamecenter into your game and use the GameCenter class as required.</li>
<ul></ul>
<ul></ul>
</ol>
<p>
Notes:
</p>
<ul>
<li>You must add your app to iTunes connect even if you are just testing/experimenting.</li>
<ul></ul>
<li>You will need to be a registered Apple developer to use iTunes connect and therefore Game Center.</li>
<ul></ul>
<li>Make sure your app's 'Bundle Identifier' in XCode matches the iTunes connect 'Bundle ID' for your app.</li>
<ul></ul>
<ul></ul>
<ul></ul>
</ul>
		
		
			<span class="detail example"><b><a href="examples/brl_gamecenter_GameCenter.cxs">Example</a></b></span>
			<div class="pretty">
<code class="d">#If </code><code class="i">TARGET</code><code class="d">&lt;&gt;</code><code class="l">"ios"</code><br/>
<code class="d">#Error </code><code class="l">"GameCenter is only available on iOS"</code><br/>
<code class="d">#End</code><br/>
<br/>
<code class="k">Import </code><code class="i">mojo</code><br/>
<code class="k">Import </code><code class="i">brl</code><code class="d">.</code><code class="i">gamecenter</code><br/>
<br/>
<code class="k">Class </code><code class="i">MyApp </code><code class="k">Extends </code><code class="i">App</code><br/>
<br/>
<code class="d">	</code><code class="k">Field </code><code class="i">gamectr</code><code class="d">:</code><code class="i">GameCenter</code><br/>
<br/>
<code class="d">	</code><code class="k">Field </code><code class="i">coins_collected</code><code class="d">:=</code><code class="l">0</code><br/>
<code class="d">	</code><code class="k">Const </code><code class="i">coins_total</code><code class="d">=</code><code class="l">25</code><br/>
<br/>
<code class="d">	</code><code class="k">Method </code><code class="i">OnCreate</code><code class="d">()</code><br/>
<code class="d">		</code><code class="i">gamectr</code><code class="d">=</code><code class="i">GameCenter</code><code class="d">.</code><code class="i">GetGameCenter</code><code class="d">()</code><br/>
<code class="d">		</code><code class="i">gamectr</code><code class="d">.</code><code class="i">StartGameCenter</code><br/>
<code class="d">		</code><code class="i">SetUpdateRate </code><code class="l">60</code><br/>
<code class="d">	</code><code class="k">End</code><br/>
<code class="d">	</code><br/>
<code class="d">	</code><code class="k">Method </code><code class="i">OnUpdate</code><code class="d">()</code><br/>
<code class="d">		</code><code class="k">Select </code><code class="i">gamectr</code><code class="d">.</code><code class="i">GameCenterState</code><code class="d">()</code><br/>
<code class="d">		</code><code class="k">Case </code><code class="l">2</code><br/>
<code class="d">			</code><code class="k">If </code><code class="i">MouseHit</code><code class="d">(</code><code class="l">0</code><code class="d">)</code><br/>
<code class="d">				</code><code class="k">If </code><code class="i">Abs</code><code class="d">( </code><code class="i">MouseY</code><code class="d">-</code><code class="i">DeviceHeight</code><code class="d">/</code><code class="l">4 </code><code class="d">)&lt;</code><code class="l">16</code><br/>
<code class="d">					</code><code class="i">gamectr</code><code class="d">.</code><code class="i">ShowLeaderboard </code><code class="l">"HIGH_SCORES"			</code><code class="r">'use the Leaderboard ID you specified in iTunes connect here...</code><br/>
<code class="d">				</code><code class="k">Else If </code><code class="i">Abs</code><code class="d">( </code><code class="i">MouseY</code><code class="d">-</code><code class="i">DeviceHeight</code><code class="d">/</code><code class="l">2 </code><code class="d">)&lt;</code><code class="l">16</code><br/>
<code class="d">					</code><code class="i">gamectr</code><code class="d">.</code><code class="i">ShowAchievements</code><br/>
<code class="d">				</code><code class="k">Else If </code><code class="i">Abs</code><code class="d">( </code><code class="i">MouseY</code><code class="d">-</code><code class="i">DeviceHeight</code><code class="d">*</code><code class="l">3</code><code class="d">/</code><code class="l">4 </code><code class="d">)&lt;</code><code class="l">16</code><br/>
<code class="d">				</code><br/>
<code class="d">					</code><code class="i">random</code><code class="d">.</code><code class="i">Seed</code><code class="d">=</code><code class="i">Millisecs</code><br/>
<code class="d">					</code><code class="i">gamectr</code><code class="d">.</code><code class="i">ReportScore Rnd</code><code class="d">(</code><code class="l">1000</code><code class="d">,</code><code class="l">2000</code><code class="d">),</code><code class="l">"HIGH_SCORES"</code><br/>
<code class="d">					</code><br/>
<code class="d">					</code><code class="i">coins_collected</code><code class="d">+=</code><code class="l">1</code><br/>
<code class="d">					</code><code class="i">gamectr</code><code class="d">.</code><code class="i">ReportAchievement coins_collected</code><code class="d">*</code><code class="l">100</code><code class="d">/</code><code class="i">coins_total</code><code class="d">,</code><code class="l">"COLLECT_ALL_COINS"	</code><code class="r">'use the Achievement ID you specified in iTunes connect here...</code><br/>
<code class="d">					</code><br/>
<code class="d">				</code><code class="k">Endif</code><br/>
<code class="d">			</code><code class="k">Endif</code><br/>
<code class="d">		</code><code class="k">End</code><br/>
<code class="d">	</code><code class="k">End</code><br/>
<code class="d">	</code><br/>
<code class="d">	</code><code class="k">Method </code><code class="i">OnRender</code><code class="d">()</code><br/>
<code class="d">		</code><code class="i">Cls</code><br/>
<code class="d">		</code><code class="i">DrawText </code><code class="l">"Game Center state="</code><code class="d">+</code><code class="i">gamectr</code><code class="d">.</code><code class="i">GameCenterState</code><code class="d">(),</code><code class="i">DeviceWidth</code><code class="d">/</code><code class="l">2</code><code class="d">,</code><code class="l">0</code><code class="d">,</code><code class="l">.5</code><code class="d">,</code><code class="l">0</code><br/>
<code class="d">		</code><code class="k">If </code><code class="i">gamectr</code><code class="d">.</code><code class="i">GameCenterState</code><code class="d">()&lt;&gt;</code><code class="l">2 </code><code class="i">SetColor </code><code class="l">128</code><code class="d">,</code><code class="l">0</code><code class="d">,</code><code class="l">0</code><br/>
<code class="d">		</code><code class="i">DrawText </code><code class="l">"Click here to show Leaderboard"</code><code class="d">,</code><code class="i">DeviceWidth</code><code class="d">/</code><code class="l">2</code><code class="d">,</code><code class="i">DeviceHeight</code><code class="d">/</code><code class="l">4</code><code class="d">,</code><code class="l">.5</code><code class="d">,</code><code class="l">.5</code><br/>
<code class="d">		</code><code class="i">DrawText </code><code class="l">"Click here to show Achievements"</code><code class="d">,</code><code class="i">DeviceWidth</code><code class="d">/</code><code class="l">2</code><code class="d">,</code><code class="i">DeviceHeight</code><code class="d">/</code><code class="l">2</code><code class="d">,</code><code class="l">.5</code><code class="d">,</code><code class="l">.5</code><br/>
<code class="d">		</code><code class="i">DrawText </code><code class="l">"Click here to report Score+Achievement"</code><code class="d">,</code><code class="i">DeviceWidth</code><code class="d">/</code><code class="l">2</code><code class="d">,</code><code class="i">DeviceHeight</code><code class="d">*</code><code class="l">3</code><code class="d">/</code><code class="l">4</code><code class="d">,</code><code class="l">.5</code><code class="d">,</code><code class="l">.5</code><br/>
<code class="d">	</code><code class="k">End</code><br/>
<code class="d">	</code><br/>
<code class="k">End</code><br/>
<br/>
<br/>
<code class="k">Function </code><code class="i">Main</code><code class="d">()</code><br/>
<code class="d">	</code><code class="k">New </code><code class="i">MyApp</code><br/>
<code class="k">End</code><br/>
</div>
		
	</section>
	<hr>









	<section>
		<h2>Methods Documentation</h2>
		
			<article>
				<a name="GameCenterAvail()"></a>
				<pre class="declaration">Method <strong>GameCenterAvail</strong> : <a href="Programming_Keywords_Bool.html">Bool</a> ()</pre>
				<p>
Returns true if Game Center support is available.
</p>
				
				
				
				
			</article>
		
			<article>
				<a name="GameCenterState()"></a>
				<pre class="declaration">Method <strong>GameCenterState</strong> : <a href="Programming_Keywords_Int.html">Int</a> ()</pre>
				<p>
Returns one of the following values:
</p>
<table>
<tr><th>State</th><th>Meaning</th></tr>
<tr><td>-1</td><td>Error : Game Center cannot be used</td></tr>
<tr><td>0</td><td>Game Center is available but has not been started yet</td></tr>
<tr><td>1</td><td>Game Center has started and is busy connecting</td></tr>
<tr><td>2</td><td>Game Center has successfully connected and is awaiting further instructions</td></tr>
<tr><td>3</td><td>A leaderboard is currently showing</td></tr>
<tr><td>4</td><td>Game achievements are currently showing</td></tr>
</table>
				
				
				
				
			</article>
		
			<article>
				<a name="ReportAchievement(Float,String)"></a>
				<pre class="declaration">Method <strong>ReportAchievement</strong> : <a href="Programming_Keywords_Void.html">Void</a> ( percentComplete:<a href="Programming_Keywords_Float.html">Float</a>, achievement_ID:<a href="Modules_cerberus.lang_String.html">String</a> )</pre>
				<p>
Report an achievement to Game Center.
</p>
<p>
The <b>achievement_ID</b> parameter should match the achievement ID specified in iTunes connect when the achievement was created.
</p>
				
				
				
				
			</article>
		
			<article>
				<a name="ReportScore(Int,String)"></a>
				<pre class="declaration">Method <strong>ReportScore</strong> : <a href="Programming_Keywords_Void.html">Void</a> ( value:<a href="Programming_Keywords_Int.html">Int</a>, leaderboard_ID:<a href="Modules_cerberus.lang_String.html">String</a> )</pre>
				<p>
Report a score to Game Center.
</p>
<p>
The <b>leaderboard_ID</b> parameter should match the leaderboard ID specified in iTunes connect when the leaderboard was created.
</p>
				
				
				
				
			</article>
		
			<article>
				<a name="ShowAchievments()"></a>
				<pre class="declaration">Method <strong>ShowAchievments</strong> : <a href="Programming_Keywords_Void.html">Void</a> ()</pre>
				<p>
Shows game achievements.
</p>
<p>
While game achievements are showing your game will continue to update (OnUpdate will continue to be called), however <a href="#GameCenterState()">GameCenterState</a> will return 4.
</p>
				
				
				
				
			</article>
		
			<article>
				<a name="ShowLeaderboard(String)"></a>
				<pre class="declaration">Method <strong>ShowLeaderboard</strong> : <a href="Programming_Keywords_Void.html">Void</a> ( leaderboard_ID:<a href="Modules_cerberus.lang_String.html">String</a> )</pre>
				<p>
Shows the leaderboard with the given id.
</p>
<p>
While a leaderboard is showing your game will continue to update (OnUpdate will continue to be called), however <a href="#GameCenterState()">GameCenterState</a> will return 3.
</p>
				
				
				
				
			</article>
		
			<article>
				<a name="StartGameCenter()"></a>
				<pre class="declaration">Method <strong>StartGameCenter</strong> : <a href="Programming_Keywords_Void.html">Void</a> ()</pre>
				<p>
Starts Game Center.
</p>
<p>
Once started, you should wait until <a href="#GameCenterState()">GameCenterState</a> returns 2 before using any Game Center functionality.
</p>
				
				
				
				
			</article>
		
	</section>
	<hr>


	<section>
		<h2>Functions Documentation</h2>
		
			<article>
				<a name="GetGameCenter()"></a>
				<pre class="declaration">Function <strong>GetGameCenter</strong> : <a href="Modules_brl.gamecenter_GameCenter.html">GameCenter</a> ()</pre>
				<p>
Gets the global GameCenter object.
</p>
				
				
				
				
			</article>
		
	</section>
	<hr>



		</main>
	</div>
</body>
</html>