<!doctype html>
<html lang="en-US">
<head>
	<meta charset="UTF-8" />
	<title>Cerberus X Documentation</title>
	<link rel="stylesheet" type="text/css" href="pagestyle.css" />
</head>
<body>
	<div class="page">
		<header>
			<h1>
				<a href="Home.html"><img src="data/cerberusx.png"/></a>Cerberus X Documentation
			</h1>

		</header>

		<nav class="main">
			<a href="Home.html">Home</a>
			<a href="API Reference.html">API Reference</a>
			<a href="Programming_Language reference.html">Language Reference</a>
			<a href="Modules.html">Modules</a>
			<a href="Indexes.html">Indexes</a>
		</nav>
		
		<nav class="location">
			<a href='Home.html'>Home</a>

			<a href='Tutorials.html'>Tutorials</a>

			<span>Drawing with images</span>

		</nav>

		<main>

<h1>Drawing with Images</h1>
<p>
In this tutorial we load some images from our apps data folder and learn more about <a href="Modules_mojo.graphics.html">mojo.graphics</a>.
</p>
<div class="pretty">
<code class="k">Import </code><code class="i">mojo</code><br/>
<code class="d">	</code><br/>
<code class="k">Class </code><code class="i">Game </code><code class="k">Extends </code><code class="i">App</code><br/>
<br/>
<code class="d">	</code><code class="k">Field </code><code class="i">image</code><code class="d">:</code><code class="i">Image</code><br/>
<br/>
<code class="d">    </code><code class="k">Method </code><code class="i">OnCreate</code><code class="d">()</code><br/>
<code class="d">		</code><code class="i">SetUpdateRate </code><code class="l">30</code><br/>
<code class="d">		</code><code class="i">image</code><code class="d">=</code><code class="i">LoadImage</code><code class="d">(</code><code class="l">"monkey64.png"</code><code class="d">)</code><br/>
<code class="d">    </code><code class="k">End</code><br/>
<br/>
<code class="d">	</code><code class="k">Method </code><code class="i">OnRender</code><code class="d">()</code><br/>
<code class="d">		</code><code class="i">Cls</code><br/>
<code class="d">		</code><code class="i">DrawImage image</code><code class="d">,</code><code class="l">20</code><code class="d">,</code><code class="l">20 		</code><br/>
<code class="d">	</code><code class="k">End</code><br/>
<br/>
<code class="k">End</code><br/>
<br/>
<code class="k">Function </code><code class="i">Main</code><code class="d">()</code><br/>
<code class="d">    </code><code class="k">New </code><code class="i">Game</code><code class="d">()</code><br/>
<code class="k">End</code><br/>
</div>
<p>
Create a new Cerberus X file, paste the above code, and save as "game.cxs" in a new folder on your computer.
</p>
<p>
This app, when run, produces a black display as the <a href="Modules_mojo.graphics.html#LoadImage(String,Int,Int,Int,[Int])">LoadImage</a> command will fail to find the file monkey64.png.
</p>
<p>
In the same folder that you saved "game.cxs" create a new directory named "game.data". Save this image to the newly created .data folder:
</p>
<p>
<img src="data/Tutorials/Drawing with images/monkey64.png" alt="Monkey" />
</p>
<h2>Add Points where you Click</h2>
<p>
Now we add a new Point class that contains an x y coordinate pair using floating point values.
</p>
<div class="pretty">
<code class="k">Class </code><code class="i">Point</code><br/>
<code class="d">	</code><code class="k">Field </code><code class="i">x</code><code class="d">#</code><br/>
<code class="d">	</code><code class="k">Field </code><code class="i">y</code><code class="d">#</code><br/>
<code class="k">End</code><br/>
</div>
<p>
We also add a List container to manage the Points that we store each time the user clicks on the screen.
</p>
<div class="pretty">
<code class="d">	</code><code class="k">Field </code><code class="i">points</code><code class="d">:=</code><code class="k">New </code><code class="i">List</code><code class="d">&lt;</code><code class="i">Point</code><code class="d">&gt;</code><br/>
</div>
<p>
The := syntax is a shortcut for a standard equate that infers the type of the Left Hand Side (LHS) from the type on the Right Hand Side (RHS). In this case the Field named points of type List&LT;Point&GT; could have also been declared and initialized using the longer winded:
</p>
<div class="pretty">
<code class="d">	</code><code class="k">Field </code><code class="i">points</code><code class="d">:</code><code class="i">List</code><code class="d">&lt;</code><code class="i">Point</code><code class="d">&gt;=</code><code class="k">New </code><code class="i">List</code><code class="d">&lt;</code><code class="i">Point</code><code class="d">&gt;</code><br/>
</div>
<p>
The type List&LT;Point&GT; is an example of a Cerberus X template. A List&LT;Point&GT; supports the standard List interface but specifically for objects of type Point.
</p>
<div class="pretty">
<code class="k">Import </code><code class="i">mojo</code><br/>
<br/>
<code class="k">Class </code><code class="i">Point</code><br/>
<code class="d">	</code><code class="k">Field </code><code class="i">x</code><code class="d">#</code><br/>
<code class="d">	</code><code class="k">Field </code><code class="i">y</code><code class="d">#</code><br/>
<code class="k">End</code><br/>
<br/>
<code class="k">Class </code><code class="i">Game </code><code class="k">Extends </code><code class="i">App</code><br/>
<br/>
<code class="d">	</code><code class="k">Field </code><code class="i">image</code><code class="d">:</code><code class="i">Image</code><br/>
<code class="d">	</code><code class="k">Field </code><code class="i">points</code><code class="d">:=</code><code class="k">New </code><code class="i">List</code><code class="d">&lt;</code><code class="i">Point</code><code class="d">&gt;</code><br/>
<br/>
<code class="d">	</code><code class="k">Method </code><code class="i">OnCreate</code><code class="d">()</code><br/>
<code class="d">		</code><code class="i">SetUpdateRate </code><code class="l">30</code><br/>
<code class="d">		</code><code class="i">image</code><code class="d">=</code><code class="i">LoadImage</code><code class="d">(</code><code class="l">"monkey64.png"</code><code class="d">)</code><br/>
<code class="d">	</code><code class="k">End</code><br/>
<br/>
<code class="d">	</code><code class="k">Method </code><code class="i">AddPoint</code><code class="d">(</code><code class="i">x</code><code class="d">#,</code><code class="i">y</code><code class="d">#)</code><br/>
<code class="d">		</code><code class="k">Local </code><code class="i">p</code><code class="d">:</code><code class="i">Point</code><code class="d">=</code><code class="k">New </code><code class="i">Point</code><br/>
<code class="d">		</code><code class="i">p</code><code class="d">.</code><code class="i">x</code><code class="d">=</code><code class="i">x</code><br/>
<code class="d">		</code><code class="i">p</code><code class="d">.</code><code class="i">y</code><code class="d">=</code><code class="i">y</code><br/>
<code class="d">		</code><code class="i">points</code><code class="d">.</code><code class="i">AddLast p</code><br/>
<code class="d">	</code><code class="k">End</code><br/>
<br/>
<code class="d">	</code><code class="k">Method </code><code class="i">OnUpdate</code><code class="d">()</code><br/>
<code class="d">		</code><code class="k">If </code><code class="i">MouseHit</code><code class="d">() </code><code class="i">AddPoint MouseX</code><code class="d">,</code><code class="i">MouseY</code><br/>
<code class="d">	</code><code class="k">End</code><br/>
<br/>
<code class="d">	</code><code class="k">Method </code><code class="i">OnRender</code><code class="d">()</code><br/>
<code class="d">		</code><code class="i">Cls</code><br/>
<code class="d">		</code><code class="k">For Local </code><code class="i">point</code><code class="d">:=</code><code class="k">Eachin </code><code class="i">points</code><br/>
<code class="d">			</code><code class="i">DrawImage image</code><code class="d">,</code><code class="i">point</code><code class="d">.</code><code class="i">x</code><code class="d">,</code><code class="i">point</code><code class="d">.</code><code class="i">y</code><br/>
<code class="d">		</code><code class="k">Next</code><br/>
<code class="d">	</code><code class="k">End</code><br/>
<br/>
<code class="k">End</code><br/>
<br/>
<code class="k">Function </code><code class="i">Main</code><code class="d">()</code><br/>
<code class="d">    </code><code class="k">New </code><code class="i">Game</code><code class="d">()</code><br/>
<code class="k">End</code><br/>
</div>
<p>
The <a href="Modules_cerberus.list_List.html#AddLast(T)">AddLast</a> method is called on the list to add an entry each time the user clicks the mouse.
</p>
<p>
The OnRender method draws the list of monkeys by using the enumeration
</p>
<div class="pretty">
<code class="d">		</code><code class="k">For Local </code><code class="i">point</code><code class="d">:=</code><code class="k">Eachin </code><code class="i">points</code><br/>
</div>
<p>
This allows Cerberus X code to process each element of the list in the order they were added.
</p>

		</main>
	</div>
</body>
</html>